{"ts":1359557670234,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"(function() {\n\t_.extend(Backbone.Router.prototype, Backbone.Events, {\n\t\tbefore: {},\n\t\tafter: {},\n\t\t_runFilters: function(filters, fragment, args) {\n\t\t\tif (_(filters).isEmpty()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tvar failingFilter = _(filters).detect(function(func, filterRoute) {\n\t\t\t\tif (!_.isRegExp(filterRoute)) {\n\t\t\t\t\t// filterRoute = this._routeToRegExp(filterRoute);\n\t\t\t\t\tfilterRoute = new RegExp(filterRoute);\n\t\t\t\t}\n\t\t\t\tif (filterRoute.test(fragment)) {\n\t\t\t\t\tvar result = (_.isFunction(func) ? func.apply(this, args) : this[func].apply(this, args));\n\t\t\t\t\treturn _.isBoolean(result) && result === false;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tthis);\n\t\t\t\t\t\t\n\t\t\treturn failingFilter ? false : true;\n\t\t},\n\t\troute: function(route, name, callback) {\n\t\t\tBackbone.history || (Backbone.history = new Backbone.History);\n\t\t\tif (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\t\t\tBackbone.history.route(route, _.bind(function(fragment) {\n\t\t\t\tvar args = this._extractParameters(route, fragment);\n\t\t\t\tif (this._runFilters(this.before, fragment, args)) {\n\t\t\t\t\tcallback.apply(this, args);\n\t\t\t\t\tthis._runFilters(this.after, fragment, args);\n\t\t\t\t\tthis.trigger.apply(this, ['route:' + name].concat(args));\n\t\t\t\t}\n\t\t\t}, this));\n\t\t}\n\t});\n}).call(this);"]],"start1":0,"start2":0,"length1":0,"length2":1230}]],"length":1230}
{"contributors":[],"silentsave":false,"ts":1359557777959,"patch":[[{"diffs":[[0," {\n\t\t\t\t\t"],[1,"callback && "],[0,"callback"]],"start1":1037,"start2":1037,"length1":16,"length2":28},{"diffs":[[0,"(this, args)"],[-1,";"],[0,"\n\t\t\t\t\tthis._"]],"start1":1071,"start2":1071,"length1":25,"length2":24}]],"length":1241,"saved":false}
{"ts":1359557841881,"patch":[[{"diffs":[[1,"/*"],[0,"(function() {\n\t_"]],"start1":0,"start2":0,"length1":16,"length2":18},{"diffs":[[0,".call(this);"],[1,"*/"]],"start1":1231,"start2":1231,"length1":12,"length2":14}]],"length":1245,"saved":false}
{"ts":1359557853116,"patch":[[{"diffs":[[-1,"/*"],[0,"(fun"]],"start1":0,"start2":0,"length1":6,"length2":4},{"diffs":[[0,"is);"],[-1,"*/"]],"start1":1237,"start2":1237,"length1":6,"length2":4}]],"length":1241,"saved":false}
{"ts":1359557858263,"patch":[[{"diffs":[[0,"s, args)"],[1,";"],[0,"\n\t\t\t\t\tth"]],"start1":1075,"start2":1075,"length1":16,"length2":17}]],"length":1242,"saved":false}
{"ts":1359557889090,"patch":[[{"diffs":[[0," {\n\t\t\t\t\t"],[1,"//"],[0,"callback"]],"start1":1037,"start2":1037,"length1":16,"length2":18}]],"length":1244,"saved":false}
{"ts":1359557903456,"patch":[[{"diffs":[[0,"\t\t\t\t"],[-1,"//callback && "],[0,"call"]],"start1":1041,"start2":1041,"length1":22,"length2":8}]],"length":1230,"saved":false}
